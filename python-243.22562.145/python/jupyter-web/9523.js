"use strict";(self.webpackChunkjupyter_web=self.webpackChunkjupyter_web||[]).push([[9523],{5520:(v,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.newState=s.STATE=s.AbstractMathItem=s.protoItem=void 0,s.protoItem=function m(f,u,i,n,t,e,r){return void 0===r&&(r=null),{open:f,math:u,close:i,n,start:{n:t},end:{n:e},display:r}};var y=function(){function f(u,i,n,t,e){void 0===n&&(n=!0),void 0===t&&(t={i:0,n:0,delim:""}),void 0===e&&(e={i:0,n:0,delim:""}),this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={},this._state=s.STATE.UNPROCESSED,this.math=u,this.inputJax=i,this.display=n,this.start=t,this.end=e,this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={}}return Object.defineProperty(f.prototype,"isEscaped",{get:function(){return null===this.display},enumerable:!1,configurable:!0}),f.prototype.render=function(u){u.renderActions.renderMath(this,u)},f.prototype.rerender=function(u,i){void 0===i&&(i=s.STATE.RERENDER),this.state()>=i&&this.state(i-1),u.renderActions.renderMath(this,u,i)},f.prototype.convert=function(u,i){void 0===i&&(i=s.STATE.LAST),u.renderActions.renderConvert(this,u,i)},f.prototype.compile=function(u){this.state()<s.STATE.COMPILED&&(this.root=this.inputJax.compile(this,u),this.state(s.STATE.COMPILED))},f.prototype.typeset=function(u){this.state()<s.STATE.TYPESET&&(this.typesetRoot=u.outputJax[this.isEscaped?"escaped":"typeset"](this,u),this.state(s.STATE.TYPESET))},f.prototype.updateDocument=function(u){},f.prototype.removeFromDocument=function(u){void 0===u&&(u=!1)},f.prototype.setMetrics=function(u,i,n,t,e){this.metrics={em:u,ex:i,containerWidth:n,lineWidth:t,scale:e}},f.prototype.state=function(u,i){return void 0===u&&(u=null),void 0===i&&(i=!1),null!=u&&(u<s.STATE.INSERTED&&this._state>=s.STATE.INSERTED&&this.removeFromDocument(i),u<s.STATE.TYPESET&&this._state>=s.STATE.TYPESET&&(this.outputData={}),u<s.STATE.COMPILED&&this._state>=s.STATE.COMPILED&&(this.inputData={}),this._state=u),this._state},f.prototype.reset=function(u){void 0===u&&(u=!1),this.state(s.STATE.UNPROCESSED,u)},f}();s.AbstractMathItem=y,s.STATE={UNPROCESSED:0,FINDMATH:10,COMPILED:20,CONVERT:100,METRICS:110,RERENDER:125,TYPESET:150,INSERTED:200,LAST:1e4},s.newState=function c(f,u){if(f in s.STATE)throw Error("State "+f+" already exists");s.STATE[f]=u}},8252:function(v,s,m){var n,y=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=this&&this.__assign||function(){return c=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.TeXAtom=void 0;var f=m(91585),u=m(4902),i=function(n){function t(e,r,o){var a=n.call(this,e,r,o)||this;return a.texclass=f.TEXCLASS.ORD,a.setProperty("texClass",a.texClass),a}return y(t,n),Object.defineProperty(t.prototype,"kind",{get:function(){return"TeXAtom"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"notParent",{get:function(){return this.childNodes[0]&&1===this.childNodes[0].childNodes.length},enumerable:!1,configurable:!0}),t.prototype.setTeXclass=function(e){return this.childNodes[0].setTeXclass(null),this.adjustTeXclass(e)},t.prototype.adjustTeXclass=function(e){return e},t.defaults=c({},f.AbstractMmlBaseNode.defaults),t}(f.AbstractMmlBaseNode);s.TeXAtom=i,i.prototype.adjustTeXclass=u.MmlMo.prototype.adjustTeXclass},54466:function(v,s,m){var i,y=this&&this.__extends||(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),c=this&&this.__assign||function(){return c=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMaction=void 0;var f=m(91585),u=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return y(n,i),Object.defineProperty(n.prototype,"kind",{get:function(){return"maction"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){var t=this.attributes.get("selection"),e=Math.max(1,Math.min(this.childNodes.length,t))-1;return this.childNodes[e]||this.factory.create("mrow")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isEmbellished",{get:function(){return this.selected.isEmbellished},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSpacelike",{get:function(){return this.selected.isSpacelike},enumerable:!1,configurable:!0}),n.prototype.core=function(){return this.selected.core()},n.prototype.coreMO=function(){return this.selected.coreMO()},n.prototype.verifyAttributes=function(t){(i.prototype.verifyAttributes.call(this,t),"toggle"!==this.attributes.get("actiontype")&&void 0!==this.attributes.getExplicit("selection"))&&delete this.attributes.getAllAttributes().selection},n.prototype.setTeXclass=function(t){"tooltip"===this.attributes.get("actiontype")&&this.childNodes[1]&&this.childNodes[1].setTeXclass(null);var e=this.selected;return t=e.setTeXclass(t),this.updateTeXclass(e),t},n.prototype.nextToggleSelection=function(){var t=Math.max(1,this.attributes.get("selection")+1);t>this.childNodes.length&&(t=1),this.attributes.set("selection",t)},n.defaults=c(c({},f.AbstractMmlNode.defaults),{actiontype:"toggle",selection:1}),n}(f.AbstractMmlNode);s.MmlMaction=u},25021:function(v,s,m){var i,y=this&&this.__extends||(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),c=this&&this.__assign||function(){return c=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMath=void 0;var f=m(91585),u=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return y(n,i),Object.defineProperty(n.prototype,"kind",{get:function(){return"math"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.setChildInheritedAttributes=function(t,e,r,o){"display"===this.attributes.get("mode")&&this.attributes.setInherited("display","block"),t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),e=!!this.attributes.get("displaystyle")||!this.attributes.get("displaystyle")&&"block"===this.attributes.get("display"),this.attributes.setInherited("displaystyle",e),r=this.attributes.get("scriptlevel")||this.constructor.defaults.scriptlevel,i.prototype.setChildInheritedAttributes.call(this,t,e,r,o)},n.defaults=c(c({},f.AbstractMmlLayoutNode.defaults),{mathvariant:"normal",mathsize:"normal",mathcolor:"",mathbackground:"transparent",dir:"ltr",scriptlevel:0,displaystyle:!1,display:"inline",maxwidth:"",overflow:"linebreak",altimg:"","altimg-width":"","altimg-height":"","altimg-valign":"",alttext:"",cdgroup:"",scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:"8px",infixlinebreakstyle:"before",lineleading:"1ex",linebreakmultchar:"\u2062",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),n}(f.AbstractMmlLayoutNode);s.MmlMath=u},78658:function(v,s,m){var i,y=this&&this.__extends||(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),c=this&&this.__assign||function(){return c=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMenclose=void 0;var f=m(91585),u=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.texclass=f.TEXCLASS.ORD,t}return y(n,i),Object.defineProperty(n.prototype,"kind",{get:function(){return"menclose"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"linebreakContininer",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.setTeXclass=function(t){return t=this.childNodes[0].setTeXclass(t),this.updateTeXclass(this.childNodes[0]),t},n.defaults=c(c({},f.AbstractMmlNode.defaults),{notation:"longdiv"}),n}(f.AbstractMmlNode);s.MmlMenclose=u},53691:function(v,s,m){var n,y=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=this&&this.__assign||function(){return c=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},c.apply(this,arguments)},f=this&&this.__values||function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMfenced=void 0;var u=m(91585),i=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.texclass=u.TEXCLASS.INNER,e.separators=[],e.open=null,e.close=null,e}return y(t,n),Object.defineProperty(t.prototype,"kind",{get:function(){return"mfenced"},enumerable:!1,configurable:!0}),t.prototype.setTeXclass=function(e){this.getPrevClass(e),this.open&&(e=this.open.setTeXclass(e)),this.childNodes[0]&&(e=this.childNodes[0].setTeXclass(e));for(var r=1,o=this.childNodes.length;r<o;r++)this.separators[r-1]&&(e=this.separators[r-1].setTeXclass(e)),this.childNodes[r]&&(e=this.childNodes[r].setTeXclass(e));return this.close&&(e=this.close.setTeXclass(e)),this.updateTeXclass(this.open),e},t.prototype.setChildInheritedAttributes=function(e,r,o,a){var l,h;this.addFakeNodes();try{for(var p=f([this.open,this.close].concat(this.separators)),d=p.next();!d.done;d=p.next()){var g=d.value;g&&g.setInheritedAttributes(e,r,o,a)}}catch(_){l={error:_}}finally{try{d&&!d.done&&(h=p.return)&&h.call(p)}finally{if(l)throw l.error}}n.prototype.setChildInheritedAttributes.call(this,e,r,o,a)},t.prototype.addFakeNodes=function(){var e,r,o=this.attributes.getList("open","close","separators"),a=o.open,l=o.close,h=o.separators;if(a=a.replace(/[ \t\n\r]/g,""),l=l.replace(/[ \t\n\r]/g,""),h=h.replace(/[ \t\n\r]/g,""),a&&(this.open=this.fakeNode(a,{fence:!0,form:"prefix"},u.TEXCLASS.OPEN)),h){for(;h.length<this.childNodes.length-1;)h+=h.charAt(h.length-1);var p=0;try{for(var d=f(this.childNodes.slice(1)),g=d.next();!g.done;g=d.next()){g.value&&this.separators.push(this.fakeNode(h.charAt(p++)))}}catch(b){e={error:b}}finally{try{g&&!g.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}}l&&(this.close=this.fakeNode(l,{fence:!0,form:"postfix"},u.TEXCLASS.CLOSE))},t.prototype.fakeNode=function(e,r,o){void 0===r&&(r={}),void 0===o&&(o=null);var a=this.factory.create("text").setText(e),l=this.factory.create("mo",r,[a]);return l.texClass=o,l.parent=this,l},t.defaults=c(c({},u.AbstractMmlNode.defaults),{open:"(",close:")",separators:","}),t}(u.AbstractMmlNode);s.MmlMfenced=i},37170:function(v,s,m){var n,y=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=this&&this.__assign||function(){return c=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},c.apply(this,arguments)},f=this&&this.__values||function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMfrac=void 0;var u=m(91585),i=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return y(t,n),Object.defineProperty(t.prototype,"kind",{get:function(){return"mfrac"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.setTeXclass=function(e){var r,o;this.getPrevClass(e);try{for(var a=f(this.childNodes),l=a.next();!l.done;l=a.next()){l.value.setTeXclass(null)}}catch(p){r={error:p}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return this},t.prototype.setChildInheritedAttributes=function(e,r,o,a){(!r||o>0)&&o++,this.childNodes[0].setInheritedAttributes(e,!1,o,a),this.childNodes[1].setInheritedAttributes(e,!1,o,!0)},t.defaults=c(c({},u.AbstractMmlBaseNode.defaults),{linethickness:"medium",numalign:"center",denomalign:"center",bevelled:!1}),t}(u.AbstractMmlBaseNode);s.MmlMfrac=i},45628:function(v,s,m){var i,y=this&&this.__extends||(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),c=this&&this.__assign||function(){return c=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMglyph=void 0;var f=m(91585),u=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.texclass=f.TEXCLASS.ORD,t}return y(n,i),Object.defineProperty(n.prototype,"kind",{get:function(){return"mglyph"},enumerable:!1,configurable:!0}),n.prototype.verifyAttributes=function(t){var e=this.attributes.getList("src","fontfamily","index"),r=e.src,o=e.fontfamily,a=e.index;""!==r||""!==o&&""!==a?i.prototype.verifyAttributes.call(this,t):this.mError("mglyph must have either src or fontfamily and index attributes",t,!0)},n.defaults=c(c({},f.AbstractMmlTokenNode.defaults),{alt:"",src:"",index:"",width:"auto",height:"auto",valign:"0em"}),n}(f.AbstractMmlTokenNode);s.MmlMglyph=u},2862:function(v,s,m){var i,y=this&&this.__extends||(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),c=this&&this.__assign||function(){return c=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMi=void 0;var f=m(91585),u=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.texclass=f.TEXCLASS.ORD,t}return y(n,i),Object.defineProperty(n.prototype,"kind",{get:function(){return"mi"},enumerable:!1,configurable:!0}),n.prototype.setInheritedAttributes=function(t,e,r,o){void 0===t&&(t={}),void 0===e&&(e=!1),void 0===r&&(r=0),void 0===o&&(o=!1),i.prototype.setInheritedAttributes.call(this,t,e,r,o),this.getText().match(n.singleCharacter)&&!t.mathvariant&&this.attributes.setInherited("mathvariant","italic")},n.prototype.setTeXclass=function(t){this.getPrevClass(t);var e=this.getText();return e.length>1&&e.match(n.operatorName)&&"normal"===this.attributes.get("mathvariant")&&void 0===this.getProperty("autoOP")&&void 0===this.getProperty("texClass")&&(this.texClass=f.TEXCLASS.OP,this.setProperty("autoOP",!0)),this},n.defaults=c({},f.AbstractMmlTokenNode.defaults),n.operatorName=/^[a-z][a-z0-9]*$/i,n.singleCharacter=/^[\uD800-\uDBFF]?.[\u0300-\u036F\u1AB0-\u1ABE\u1DC0-\u1DFF\u20D0-\u20EF]*$/,n}(f.AbstractMmlTokenNode);s.MmlMi=u},93018:function(v,s,m){var e,y=this&&this.__extends||(e=function(r,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(a[h]=l[h])})(r,o)},function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function a(){this.constructor=r}e(r,o),r.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)}),c=this&&this.__assign||function(){return c=Object.assign||function(e){for(var r,o=1,a=arguments.length;o<a;o++)for(var l in r=arguments[o])Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l]);return e},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlNone=s.MmlMprescripts=s.MmlMmultiscripts=void 0;var f=m(91585),u=m(37666),i=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return y(r,e),Object.defineProperty(r.prototype,"kind",{get:function(){return"mmultiscripts"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),r.prototype.setChildInheritedAttributes=function(o,a,l,h){this.childNodes[0].setInheritedAttributes(o,a,l,h);for(var p=!1,d=1,g=0;d<this.childNodes.length;d++){var _=this.childNodes[d];if(_.isKind("mprescripts")){if(!p&&(p=!0,d%2==0)){var b=this.factory.create("mrow");this.childNodes.splice(d,0,b),b.parent=this,d++}}else{var M=h||g%2==0;_.setInheritedAttributes(o,!1,l+1,M),g++}}this.childNodes.length%2==(p?1:0)&&(this.appendChild(this.factory.create("mrow")),this.childNodes[this.childNodes.length-1].setInheritedAttributes(o,!1,l+1,h))},r.prototype.verifyChildren=function(o){for(var a=!1,l=o.fixMmultiscripts,h=0;h<this.childNodes.length;h++){var p=this.childNodes[h];p.isKind("mprescripts")&&(a?p.mError(p.kind+" can only appear once in "+this.kind,o,!0):(a=!0,h%2==0&&!l&&this.mError("There must be an equal number of prescripts of each type",o)))}this.childNodes.length%2==(a?1:0)&&!l&&this.mError("There must be an equal number of scripts of each type",o),e.prototype.verifyChildren.call(this,o)},r.defaults=c({},u.MmlMsubsup.defaults),r}(u.MmlMsubsup);s.MmlMmultiscripts=i;var n=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return y(r,e),Object.defineProperty(r.prototype,"kind",{get:function(){return"mprescripts"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),r.prototype.verifyTree=function(o){e.prototype.verifyTree.call(this,o),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",o,!0)},r.defaults=c({},f.AbstractMmlNode.defaults),r}(f.AbstractMmlNode);s.MmlMprescripts=n;var t=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return y(r,e),Object.defineProperty(r.prototype,"kind",{get:function(){return"none"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),r.prototype.verifyTree=function(o){e.prototype.verifyTree.call(this,o),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",o,!0)},r.defaults=c({},f.AbstractMmlNode.defaults),r}(f.AbstractMmlNode);s.MmlNone=t},26974:function(v,s,m){var i,y=this&&this.__extends||(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),c=this&&this.__assign||function(){return c=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMn=void 0;var f=m(91585),u=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.texclass=f.TEXCLASS.ORD,t}return y(n,i),Object.defineProperty(n.prototype,"kind",{get:function(){return"mn"},enumerable:!1,configurable:!0}),n.defaults=c({},f.AbstractMmlTokenNode.defaults),n}(f.AbstractMmlTokenNode);s.MmlMn=u},27374:function(v,s,m){var i,y=this&&this.__extends||(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),c=this&&this.__assign||function(){return c=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMpadded=void 0;var f=m(91585),u=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return y(n,i),Object.defineProperty(n.prototype,"kind",{get:function(){return"mpadded"},enumerable:!1,configurable:!0}),n.defaults=c(c({},f.AbstractMmlLayoutNode.defaults),{width:"",height:"",depth:"",lspace:0,voffset:0}),n}(f.AbstractMmlLayoutNode);s.MmlMpadded=u},12773:function(v,s,m){var i,y=this&&this.__extends||(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),c=this&&this.__assign||function(){return c=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMroot=void 0;var f=m(91585),u=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.texclass=f.TEXCLASS.ORD,t}return y(n,i),Object.defineProperty(n.prototype,"kind",{get:function(){return"mroot"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),n.prototype.setTeXclass=function(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this.childNodes[1].setTeXclass(null),this},n.prototype.setChildInheritedAttributes=function(t,e,r,o){this.childNodes[0].setInheritedAttributes(t,e,r,!0),this.childNodes[1].setInheritedAttributes(t,!1,r+2,o)},n.defaults=c({},f.AbstractMmlNode.defaults),n}(f.AbstractMmlNode);s.MmlMroot=u},84799:function(v,s,m){var t,y=this&&this.__extends||(t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])})(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}),c=this&&this.__assign||function(){return c=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},c.apply(this,arguments)},f=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlInferredMrow=s.MmlMrow=void 0;var u=m(91585),i=function(t){function e(){var r=null!==t&&t.apply(this,arguments)||this;return r._core=null,r}return y(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mrow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSpacelike",{get:function(){var r,o;try{for(var a=f(this.childNodes),l=a.next();!l.done;l=a.next()){if(!l.value.isSpacelike)return!1}}catch(p){r={error:p}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmbellished",{get:function(){var r,o,a=!1,l=0;try{for(var h=f(this.childNodes),p=h.next();!p.done;p=h.next()){var d=p.value;if(d)if(d.isEmbellished){if(a)return!1;a=!0,this._core=l}else if(!d.isSpacelike)return!1;l++}}catch(g){r={error:g}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}return a},enumerable:!1,configurable:!0}),e.prototype.core=function(){return this.isEmbellished&&null!=this._core?this.childNodes[this._core]:this},e.prototype.coreMO=function(){return this.isEmbellished&&null!=this._core?this.childNodes[this._core].coreMO():this},e.prototype.nonSpaceLength=function(){var r,o,a=0;try{for(var l=f(this.childNodes),h=l.next();!h.done;h=l.next()){var p=h.value;p&&!p.isSpacelike&&a++}}catch(d){r={error:d}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return a},e.prototype.firstNonSpace=function(){var r,o;try{for(var a=f(this.childNodes),l=a.next();!l.done;l=a.next()){var h=l.value;if(h&&!h.isSpacelike)return h}}catch(p){r={error:p}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return null},e.prototype.lastNonSpace=function(){for(var r=this.childNodes.length;--r>=0;){var o=this.childNodes[r];if(o&&!o.isSpacelike)return o}return null},e.prototype.setTeXclass=function(r){var o,a,l,h;if(null!=this.getProperty("open")||null!=this.getProperty("close")){this.getPrevClass(r),r=null;try{for(var p=f(this.childNodes),d=p.next();!d.done;d=p.next()){r=d.value.setTeXclass(r)}}catch(M){o={error:M}}finally{try{d&&!d.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}null==this.texClass&&(this.texClass=u.TEXCLASS.INNER)}else{try{for(var _=f(this.childNodes),b=_.next();!b.done;b=_.next()){r=b.value.setTeXclass(r)}}catch(M){l={error:M}}finally{try{b&&!b.done&&(h=_.return)&&h.call(_)}finally{if(l)throw l.error}}this.childNodes[0]&&this.updateTeXclass(this.childNodes[0])}return r},e.defaults=c({},u.AbstractMmlNode.defaults),e}(u.AbstractMmlNode);s.MmlMrow=i;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"inferredMrow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInferred",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notParent",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"["+this.childNodes.join(",")+"]"},e.defaults=i.defaults,e}(i);s.MmlInferredMrow=n},92294:function(v,s,m){var i,y=this&&this.__extends||(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),c=this&&this.__assign||function(){return c=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMs=void 0;var f=m(91585),u=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.texclass=f.TEXCLASS.ORD,t}return y(n,i),Object.defineProperty(n.prototype,"kind",{get:function(){return"ms"},enumerable:!1,configurable:!0}),n.defaults=c(c({},f.AbstractMmlTokenNode.defaults),{lquote:'"',rquote:'"'}),n}(f.AbstractMmlTokenNode);s.MmlMs=u},88143:function(v,s,m){var i,y=this&&this.__extends||(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),c=this&&this.__assign||function(){return c=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMspace=void 0;var f=m(91585),u=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.texclass=f.TEXCLASS.NONE,t}return y(n,i),n.prototype.setTeXclass=function(t){return t},Object.defineProperty(n.prototype,"kind",{get:function(){return"mspace"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"arity",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasNewline",{get:function(){var t=this.attributes;return null==t.getExplicit("width")&&null==t.getExplicit("height")&&null==t.getExplicit("depth")&&"newline"===t.get("linebreak")},enumerable:!1,configurable:!0}),n.defaults=c(c({},f.AbstractMmlTokenNode.defaults),{width:"0em",height:"0ex",depth:"0ex",linebreak:"auto"}),n}(f.AbstractMmlTokenNode);s.MmlMspace=u},58730:function(v,s,m){var i,y=this&&this.__extends||(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),c=this&&this.__assign||function(){return c=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMsqrt=void 0;var f=m(91585),u=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.texclass=f.TEXCLASS.ORD,t}return y(n,i),Object.defineProperty(n.prototype,"kind",{get:function(){return"msqrt"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.setTeXclass=function(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this},n.prototype.setChildInheritedAttributes=function(t,e,r,o){this.childNodes[0].setInheritedAttributes(t,e,r,!0)},n.defaults=c({},f.AbstractMmlNode.defaults),n}(f.AbstractMmlNode);s.MmlMsqrt=u},37666:function(v,s,m){var t,y=this&&this.__extends||(t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])})(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}),c=this&&this.__assign||function(){return c=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMsup=s.MmlMsub=s.MmlMsubsup=void 0;var f=m(91585),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"msubsup"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"base",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sub",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sup",{get:function(){return 2},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(r,o,a,l){var h=this.childNodes;h[0].setInheritedAttributes(r,o,a,l),h[1].setInheritedAttributes(r,!1,a+1,l||1===this.sub),h[2]&&h[2].setInheritedAttributes(r,!1,a+1,l||2===this.sub)},e.defaults=c(c({},f.AbstractMmlBaseNode.defaults),{subscriptshift:"",superscriptshift:""}),e}(f.AbstractMmlBaseNode);s.MmlMsubsup=u;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"msub"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),e.defaults=c({},u.defaults),e}(u);s.MmlMsub=i;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"msup"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sup",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sub",{get:function(){return 2},enumerable:!1,configurable:!0}),e.defaults=c({},u.defaults),e}(u);s.MmlMsup=n},96305:function(v,s,m){var t,y=this&&this.__extends||(t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])})(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}),c=this&&this.__assign||function(){return c=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},c.apply(this,arguments)},f=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMtable=void 0;var u=m(91585),i=m(74267),n=function(t){function e(){var r=null!==t&&t.apply(this,arguments)||this;return r.properties={useHeight:!0},r.texclass=u.TEXCLASS.ORD,r}return y(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mtable"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setInheritedAttributes=function(r,o,a,l){var h,p;try{for(var d=f(u.indentAttributes),g=d.next();!g.done;g=d.next()){var _=g.value;r[_]&&this.attributes.setInherited(_,r[_][1]),void 0!==this.attributes.getExplicit(_)&&delete this.attributes.getAllAttributes()[_]}}catch(b){h={error:b}}finally{try{g&&!g.done&&(p=d.return)&&p.call(d)}finally{if(h)throw h.error}}t.prototype.setInheritedAttributes.call(this,r,o,a,l)},e.prototype.setChildInheritedAttributes=function(r,o,a,l){var h,p,d,g;try{for(var _=f(this.childNodes),b=_.next();!b.done;b=_.next()){(M=b.value).isKind("mtr")||this.replaceChild(this.factory.create("mtr"),M).appendChild(M)}}catch(j){h={error:j}}finally{try{b&&!b.done&&(p=_.return)&&p.call(_)}finally{if(h)throw h.error}}a=this.getProperty("scriptlevel")||a,o=!(!this.attributes.getExplicit("displaystyle")&&!this.attributes.getDefault("displaystyle")),r=this.addInheritedAttributes(r,{columnalign:this.attributes.get("columnalign"),rowalign:"center"});var w=this.attributes.getExplicit("data-cramped"),P=(0,i.split)(this.attributes.get("rowalign"));try{for(var A=f(this.childNodes),O=A.next();!O.done;O=A.next()){var M=O.value;r.rowalign[1]=P.shift()||r.rowalign[1],M.setInheritedAttributes(r,o,a,!!w)}}catch(j){d={error:j}}finally{try{O&&!O.done&&(g=A.return)&&g.call(A)}finally{if(d)throw d.error}}},e.prototype.verifyChildren=function(r){for(var o=null,a=this.factory,l=0;l<this.childNodes.length;l++){var h=this.childNodes[l];if(h.isKind("mtr"))o=null;else{var p=h.isKind("mtd");if(o?(this.removeChild(h),l--):o=this.replaceChild(a.create("mtr"),h),o.appendChild(p?h:a.create("mtd",{},[h])),!r.fixMtables){h.parent.removeChild(h),h.parent=this,p&&o.appendChild(a.create("mtd"));var d=h.mError("Children of "+this.kind+" must be mtr or mlabeledtr",r,p);o.childNodes[o.childNodes.length-1].appendChild(d)}}}t.prototype.verifyChildren.call(this,r)},e.prototype.setTeXclass=function(r){var o,a;this.getPrevClass(r);try{for(var l=f(this.childNodes),h=l.next();!h.done;h=l.next()){h.value.setTeXclass(null)}}catch(d){o={error:d}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}return this},e.defaults=c(c({},u.AbstractMmlNode.defaults),{align:"axis",rowalign:"baseline",columnalign:"center",groupalign:"{left}",alignmentscope:!0,columnwidth:"auto",width:"auto",rowspacing:"1ex",columnspacing:".8em",rowlines:"none",columnlines:"none",frame:"none",framespacing:"0.4em 0.5ex",equalrows:!1,equalcolumns:!1,displaystyle:!1,side:"right",minlabelspacing:"0.8em"}),e}(u.AbstractMmlNode);s.MmlMtable=n},8880:function(v,s,m){var n,y=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=this&&this.__assign||function(){return c=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMtd=void 0;var f=m(91585),u=m(8480),i=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return y(t,n),Object.defineProperty(t.prototype,"kind",{get:function(){return"mtd"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"arity",{get:function(){return-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.verifyChildren=function(e){!this.parent||this.parent.isKind("mtr")?n.prototype.verifyChildren.call(this,e):this.mError(this.kind+" can only be a child of an mtr or mlabeledtr",e,!0)},t.prototype.setTeXclass=function(e){return this.getPrevClass(e),this.childNodes[0].setTeXclass(null),this},t.defaults=c(c({},f.AbstractMmlBaseNode.defaults),{rowspan:1,columnspan:1,rowalign:u.INHERIT,columnalign:u.INHERIT,groupalign:u.INHERIT}),t}(f.AbstractMmlBaseNode);s.MmlMtd=i},36242:function(v,s,m){var i,y=this&&this.__extends||(i=function(n,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}i(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),c=this&&this.__assign||function(){return c=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMtext=void 0;var f=m(91585),u=function(i){function n(){var t=null!==i&&i.apply(this,arguments)||this;return t.texclass=f.TEXCLASS.ORD,t}return y(n,i),Object.defineProperty(n.prototype,"kind",{get:function(){return"mtext"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSpacelike",{get:function(){return!0},enumerable:!1,configurable:!0}),n.defaults=c({},f.AbstractMmlTokenNode.defaults),n}(f.AbstractMmlTokenNode);s.MmlMtext=u},4181:function(v,s,m){var r,y=this&&this.__extends||(r=function(o,a){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(l[p]=h[p])})(o,a)},function(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function l(){this.constructor=o}r(o,a),o.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l)}),c=this&&this.__assign||function(){return c=Object.assign||function(r){for(var o,a=1,l=arguments.length;a<l;a++)for(var h in o=arguments[a])Object.prototype.hasOwnProperty.call(o,h)&&(r[h]=o[h]);return r},c.apply(this,arguments)},f=this&&this.__values||function(r){var o="function"==typeof Symbol&&Symbol.iterator,a=o&&r[o],l=0;if(a)return a.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&l>=r.length&&(r=void 0),{value:r&&r[l++],done:!r}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMlabeledtr=s.MmlMtr=void 0;var u=m(91585),i=m(8480),n=m(74267),t=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return y(o,r),Object.defineProperty(o.prototype,"kind",{get:function(){return"mtr"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),o.prototype.setChildInheritedAttributes=function(a,l,h,p){var d,g,_,b;try{for(var M=f(this.childNodes),w=M.next();!w.done;w=M.next()){(P=w.value).isKind("mtd")||this.replaceChild(this.factory.create("mtd"),P).appendChild(P)}}catch(N){d={error:N}}finally{try{w&&!w.done&&(g=M.return)&&g.call(M)}finally{if(d)throw d.error}}var A=(0,n.split)(this.attributes.get("columnalign"));1===this.arity&&A.unshift(this.parent.attributes.get("side")),a=this.addInheritedAttributes(a,{rowalign:this.attributes.get("rowalign"),columnalign:"center"});try{for(var O=f(this.childNodes),j=O.next();!j.done;j=O.next()){var P=j.value;a.columnalign[1]=A.shift()||a.columnalign[1],P.setInheritedAttributes(a,l,h,p)}}catch(N){_={error:N}}finally{try{j&&!j.done&&(b=O.return)&&b.call(O)}finally{if(_)throw _.error}}},o.prototype.verifyChildren=function(a){var l,h;if(!this.parent||this.parent.isKind("mtable")){try{for(var p=f(this.childNodes),d=p.next();!d.done;d=p.next()){var g=d.value;if(!g.isKind("mtd"))this.replaceChild(this.factory.create("mtd"),g).appendChild(g),a.fixMtables||g.mError("Children of "+this.kind+" must be mtd",a)}}catch(b){l={error:b}}finally{try{d&&!d.done&&(h=p.return)&&h.call(p)}finally{if(l)throw l.error}}r.prototype.verifyChildren.call(this,a)}else this.mError(this.kind+" can only be a child of an mtable",a,!0)},o.prototype.setTeXclass=function(a){var l,h;this.getPrevClass(a);try{for(var p=f(this.childNodes),d=p.next();!d.done;d=p.next()){d.value.setTeXclass(null)}}catch(_){l={error:_}}finally{try{d&&!d.done&&(h=p.return)&&h.call(p)}finally{if(l)throw l.error}}return this},o.defaults=c(c({},u.AbstractMmlNode.defaults),{rowalign:i.INHERIT,columnalign:i.INHERIT,groupalign:i.INHERIT}),o}(u.AbstractMmlNode);s.MmlMtr=t;var e=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return y(o,r),Object.defineProperty(o.prototype,"kind",{get:function(){return"mlabeledtr"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),o}(t);s.MmlMlabeledtr=e},89617:function(v,s,m){var t,y=this&&this.__extends||(t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])})(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}),c=this&&this.__assign||function(){return c=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlMover=s.MmlMunder=s.MmlMunderover=void 0;var f=m(91585),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"munderover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"base",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"under",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linebreakContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(r,o,a,l){var h=this.childNodes;h[0].setInheritedAttributes(r,o,a,l||!!h[this.over]);var p=!(o||!h[0].coreMO().attributes.get("movablelimits")),d=this.constructor.ACCENTS;h[1].setInheritedAttributes(r,!1,this.getScriptlevel(d[1],p,a),l||1===this.under),this.setInheritedAccent(1,d[1],o,a,l,p),h[2]&&(h[2].setInheritedAttributes(r,!1,this.getScriptlevel(d[2],p,a),l||2===this.under),this.setInheritedAccent(2,d[2],o,a,l,p))},e.prototype.getScriptlevel=function(r,o,a){return(o||!this.attributes.get(r))&&a++,a},e.prototype.setInheritedAccent=function(r,o,a,l,h,p){var d=this.childNodes[r];if(null==this.attributes.getExplicit(o)&&d.isEmbellished){var g=d.coreMO().attributes.get("accent");this.attributes.setInherited(o,g),g!==this.attributes.getDefault(o)&&d.setInheritedAttributes({},a,this.getScriptlevel(o,p,l),h)}},e.defaults=c(c({},f.AbstractMmlBaseNode.defaults),{accent:!1,accentunder:!1,align:"center"}),e.ACCENTS=["","accentunder","accent"],e}(f.AbstractMmlBaseNode);s.MmlMunderover=u;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"munder"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),e.defaults=c({},u.defaults),e}(u);s.MmlMunder=i;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"mover"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"under",{get:function(){return 2},enumerable:!1,configurable:!0}),e.defaults=c({},u.defaults),e.ACCENTS=["","accent","accentunder"],e}(u);s.MmlMover=n},1546:function(v,s,m){var t,y=this&&this.__extends||(t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])})(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}),c=this&&this.__assign||function(){return c=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},c.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.MmlAnnotation=s.MmlAnnotationXML=s.MmlSemantics=void 0;var f=m(91585),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"semantics"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arity",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notParent",{get:function(){return!0},enumerable:!1,configurable:!0}),e.defaults=c(c({},f.AbstractMmlBaseNode.defaults),{definitionUrl:null,encoding:null}),e}(f.AbstractMmlBaseNode);s.MmlSemantics=u;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"annotation-xml"},enumerable:!1,configurable:!0}),e.prototype.setChildInheritedAttributes=function(){},e.defaults=c(c({},f.AbstractMmlNode.defaults),{definitionUrl:null,encoding:null,cd:"mathmlkeys",name:"",src:null}),e}(f.AbstractMmlNode);s.MmlAnnotationXML=i;var n=function(t){function e(){var r=null!==t&&t.apply(this,arguments)||this;return r.properties={isChars:!0},r}return y(e,t),Object.defineProperty(e.prototype,"kind",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.defaults=c({},i.defaults),e}(i);s.MmlAnnotation=n},95272:function(v,s){var m=this&&this.__values||function(u){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&u[i],t=0;if(n)return n.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&t>=u.length&&(u=void 0),{value:u&&u[t++],done:!u}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},y=this&&this.__read||function(u,i){var n="function"==typeof Symbol&&u[Symbol.iterator];if(!n)return u;var e,o,t=n.call(u),r=[];try{for(;(void 0===i||i-- >0)&&!(e=t.next()).done;)r.push(e.value)}catch(a){o={error:a}}finally{try{e&&!e.done&&(n=t.return)&&n.call(t)}finally{if(o)throw o.error}}return r},c=this&&this.__spreadArray||function(u,i,n){if(n||2===arguments.length)for(var r,t=0,e=i.length;t<e;t++)(r||!(t in i))&&(r||(r=Array.prototype.slice.call(i,0,t)),r[t]=i[t]);return u.concat(r||Array.prototype.slice.call(i))};Object.defineProperty(s,"__esModule",{value:!0}),s.AbstractFactory=void 0;var f=function(){function u(i){var n,t;void 0===i&&(i=null),this.defaultKind="unknown",this.nodeMap=new Map,this.node={},null===i&&(i=this.constructor.defaultNodes);try{for(var e=m(Object.keys(i)),r=e.next();!r.done;r=e.next()){var o=r.value;this.setNodeClass(o,i[o])}}catch(a){n={error:a}}finally{try{r&&!r.done&&(t=e.return)&&t.call(e)}finally{if(n)throw n.error}}}return u.prototype.create=function(i){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return(this.node[i]||this.node[this.defaultKind]).apply(void 0,c([],y(n),!1))},u.prototype.setNodeClass=function(i,n){this.nodeMap.set(i,n);var t=this,e=this.nodeMap.get(i);this.node[i]=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new(e.bind.apply(e,c([void 0,t],y(r),!1)))}},u.prototype.getNodeClass=function(i){return this.nodeMap.get(i)},u.prototype.deleteNodeClass=function(i){this.nodeMap.delete(i),delete this.node[i]},u.prototype.nodeIsKind=function(i,n){return i instanceof this.getNodeClass(n)},u.prototype.getKinds=function(){return Array.from(this.nodeMap.keys())},u.defaultNodes={},u}();s.AbstractFactory=f}}]);